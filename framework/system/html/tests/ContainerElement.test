<?php

using('Framework.System.Html');

class HtmlTest_ContainerElement extends Test_BaseCase
{
    protected $form = null;

    protected $element = null;

    protected $element2 = null;

    public function setUp()
    {
        $_SERVER['REQUEST_URI'] = '/';
        $_SERVER['REQUEST_METHOD'] = 'post';

        $this->form = new Html_Form('ContainerElementTest');
        $this->form->csrf(false);

        $this->element = new Html_Element_Text('test');

        $this->form->addElement($this->element);
    }

    public function tearDown()
    {
        unset($_SERVER['REQUEST_URI']);
        unset($_SERVER['REQUEST_METHOD']);
        $_POST = array();
    }

    public function testPost()
    {
        $_POST = array(
            'ContainerElementTest' => array(
                'test' => 'test'
            )
        );
        $this->element->defaultValue('testValue');

        $this->assertEquals('test', $this->element->value());
    }
}